var phonebook=window.phonebook||function(){var a=!1,b=Backbone.Model.extend({first:"New",last:"Contact",phone:"Enter Number",email:"Enter Email",initialize:function(){}}),c=[{first:"Adam",last:"Johnson",phone:"111-111-1111"},{first:"Vinny",last:"DeFrancesco",phone:"111-111-1111"},{first:"Corey",last:"Tucker",phone:"111-111-1111"},{first:"Emma",last:"Lydon",phone:"111-111-1111"},{first:"Adam",last:"Johnson",phone:"111-111-1111"},{first:"Vinny",last:"DeFrancesco",phone:"111-111-1111"},{first:"Corey",last:"Tucker",phone:"111-111-1111"},{first:"Emma",last:"Lydon",phone:"111-111-1111"},{first:"Adam",last:"Johnson",phone:"111-111-1111"},{first:"Vinny",last:"DeFrancesco",phone:"111-111-1111"},{first:"Corey",last:"Tucker",phone:"111-111-1111"},{first:"Emma",last:"Lydon",phone:"111-111-1111"},{first:"Adam",last:"Johnson",phone:"111-111-1111"},{first:"Vinny",last:"DeFrancesco",phone:"111-111-1111"},{first:"Corey",last:"Tucker",phone:"111-111-1111"},{first:"Emma",last:"Lydon",phone:"111-111-1111"},{first:"Adam",last:"Johnson",phone:"111-111-1111"},{first:"Vinny",last:"DeFrancesco",phone:"111-111-1111"},{first:"Corey",last:"Tucker",phone:"111-111-1111"},{first:"Emma",last:"Lydon",phone:"111-111-1111"}],d=Backbone.View.extend({id:"contact-list",$container:$("#contact-list-column"),initialize:function(){this.render(),this.collection.forEach(function(a){new e({model:a})})},render:function(){this.$container.append(this.$el)}}),e=Backbone.View.extend({className:"contact-listing row",$container:$("#contact-list"),template:_.template('             <div class="col-xs-10 listing-name"><p><%= name %></p></div>             <div class="delete-contact col-xs-2 glyphicon glyphicon-trash"></div>'),events:{"click .delete-contact":"listDelete"},initialize:function(){this.render(),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"destroy",this.removeView)},render:function(){var a=this.template({name:this.model.get("last")+", "+this.model.get("first")});this.$el.html(a),this.$container.append(this.$el)},listDelete:function(){this.model.destroy()},removeView:function(){this.remove(),this.stopListening()}}),f=Backbone.View.extend({model:b,className:"contact-info row",$container:$("#contact-view"),template:_.template('             <div class="col-sm-12">                <h3><%= first %> <%= last %></h3>                 <div class="contact-view-button-wrapper">                    <button class="btn btn-default edit" type="button">                        <span class="glyphicon glyphicon-edit"></span>                    </button>                    <button class="btn btn-default delete" type="button">                        <span class="glyphicon glyphicon-trash"></span>                    </button>                </div>                <div class="contact-fields">                    <form>                    <p>First Name:<input name="first" type="text" value="<%= first %>" readonly></p>                    <p>Last Name:<input name="last" type="text" value="<%= last %>"" readonly></p>                    <p>Phone Number:<input name="phone" type="text" value="<%= phone %>"" readonly></p>                </form>                </div>            </div>	'),events:{"click .edit":"edit","click .delete":"delete"},initialize:function(){this.listenTo(this.model,"destroy",this.newModel),this.render()},render:function(){var a=({first:this.model.get("first"),last:this.model.get("last"),phone:this.model.get("phone")},this.template({first:this.model.get("first"),last:this.model.get("last"),phone:this.model.get("phone")}));this.$el.html(a),this.$container.append(this.$el)},edit:function(){var b=$(".edit").find("span");if(a){this.$el.find("input").attr("readonly",!0).removeClass("active-edit");var c=this.$el.find("input"),d=[];c.each(function(){d.push($(this).val())}),this.model.set({first:d[0],last:d[1],phone:d[2]}),this.render(),b.removeClass("glyphicon-floppy-save").addClass("glyphicon-edit"),a=!1}else a=!0,this.$el.find("input").attr("readonly",!1).addClass("active-edit"),b.removeClass("glyphicon-edit").addClass("glyphicon-floppy-save")},"delete":function(){this.model.destroy(),this.model=new b,console.log(this.model),this.render()},newModel:function(){var a=new b({first:"lol",last:"haha",phone:123});this.model=a,this.render()}}),g=0,h=Backbone.Collection.extend({model:b,initialize:function(){this.reset(c);var a=this;new d({collection:a}),new f({collection:a,model:this.at(g)})}});$(document).ready(function(){new h})}();